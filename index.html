<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Blind w Beauty - Nails, Hair & Beauty Studio offering premium self-care experiences." />
  <meta name="keywords" content="Blind w Beauty, nails, hair, beauty salon, manicure, hairstyling, beauty studio" />
  <meta name="author" content="Blind w Beauty" />
  <meta property="og:title" content="Blind w Beauty" />
  <meta property="og:description" content="Luxury Nails, Hair & Beauty Services. Book your appointment today!" />
  <meta property="og:image" content="https://via.placeholder.com/600x400.png?text=Blind+w+Beauty" />
  <meta property="og:url" content="https://yourdomain.com/" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Blind w Beauty" />
  <meta name="twitter:description" content="Your destination for Nails, Hair & Beauty." />
  <meta name="twitter:image" content="https://via.placeholder.com/600x400.png?text=Blind+W+Beauty" />
  <title>Blind w Beauty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

  <header>
    <img src="images/blind-with-beauty.jpeg" alt="Blind With Beauty" class="service-img" />
    <h1>Blind w Beauty</h1>
    <p>Luxury Nails, Hair & Beauty Studio 💅💇‍♀️</p>
    <button onclick="toggleDarkMode()">Dark Mode 🌙</button>
  </header>

  <section id="about" class="hidden">
    <h2>About Us</h2>
    <p>
      Welcome to <strong>Blind w Beauty</strong> — where elegance meets creativity. 
      We specialize in high-end nail art, custom hair styling, and personalized beauty services 
      designed to help you look and feel your absolute best.
    </p>
  </section>

  <section id="portfolio" class="hidden">
    <h2>Our Services</h2>
    <div class="projects">
      <div class="project-card">
        <img src="images/book-for-nails.jpeg" alt="Book for Nails" class="service-img" />
        <h3>Manicures & Nail Art</h3>
        <p>From classic elegance to bold creative designs — every detail crafted to perfection.</p>
        <button onclick="window.location.href='review-nail.html'" class="review-btn">Review Work</button>
      </div>

      <div class="project-card">
        <img src="images/blind-with-beauty.jpeg" alt="Blind With Beauty" class="service-img" />
        <h3>Hair Styling & Coloring</h3>
        <p>Transform your look with expert cuts, vibrant colors, and nourishing treatments.</p>
        <button onclick="window.location.href='review-hair.html'" class="review-btn">Review Work</button>
      </div>

      <div class="project-card">
        <i class="fa-solid fa-face-smile-beam"></i>
        <h3>Beauty Packages</h3>
        <p>Book a full glam session — nails, hair, and beauty treatments all in one place.</p>
      </div>
    </div>
  </section>

  <!-- CONTACT / APPOINTMENT -->
  <section id="contact" class="hidden">
    <h2>Book an Appointment</h2>
    <form id="contact-form">
      <input id="name" type="text" name="name" placeholder="Name" required />
      <input id="phone" type="tel" name="phone" placeholder="Phone" required />
      <textarea id="message" name="message" placeholder="Message" required></textarea>
      <button type="submit">Book Now</button>
    </form>
    <p id="status" style="text-align:center;font-weight:bold;margin-top:10px;"></p>
  </section>

  <footer>
    <p>©️ 2025 Blind w Beauty. All rights reserved.</p>
    <p>Made by</p>
    <div class="social-icons">
      <a href="https://www.instagram.com/phantom_940?igsh=MTZtZWF6cG50aHQwZQ%3D%3D&utm_source=qr" target="_blank" aria-label="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </footer>

  <!-- ✅ ONLY SCRIPT UPDATED -->
  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwR7Kg7HBrXxA3H0bd0S2J0OBQWe0efzeyQfQFbsANTR2YL8-kvX4boLXfykkJbFDEXYQ/exec";

    function toggleDarkMode() {
      const isDark = document.body.classList.toggle("dark-mode");
      localStorage.setItem("darkMode", isDark ? "enabled" : "disabled");
      const btn = document.querySelector('button[onclick="toggleDarkMode()"]');
      if (btn) btn.textContent = isDark ? "Light Mode ☀️" : "Dark Mode 🌙";
    }

    document.addEventListener("DOMContentLoaded", async () => {
      if (localStorage.getItem("darkMode") === "enabled") {
        document.body.classList.add("dark-mode");
        const btn = document.querySelector('button[onclick="toggleDarkMode()"]');
        if (btn) btn.textContent = "Light Mode ☀️";
      }

      const form = document.getElementById("contact-form");
      const status = document.getElementById("status");

      // ✅ Test connection to Apps Script
      console.log("🔍 Testing Apps Script URL:", SCRIPT_URL);
      try {
        const testRes = await fetch(SCRIPT_URL);
        console.log("✅ Test response:", testRes.status);
      } catch (err) {
        console.error("❌ Apps Script test failed:", err);
      }

      if (!form) return;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        status.textContent = "Sending...";
        const btn = form.querySelector("button[type='submit']");
        if (btn) { btn.disabled = true; btn.textContent = "Booking..."; }

        const payload = {
          name: document.getElementById("name").value,
          phone: document.getElementById("phone").value,
          message: document.getElementById("message").value
        };

        console.log("🚀 Sending data:", payload);

        try {
          const res = await fetch(SCRIPT_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          });

          console.log("📡 Response status:", res.status);
          const data = await res.json().catch(() => ({}));
          console.log("📦 Response data:", data);

          if (res.ok) {
            status.textContent = "✅ Appointment sent successfully!";
            form.reset();
          } else {
            status.textContent = "⚠️ Failed to send appointment.";
          }
        } catch (err) {
          console.error("❌ Fetch/network error:", err);
          status.textContent = "❌ Could not send appointment. Check console for details.";
        } finally {
          if (btn) { btn.disabled = false; btn.textContent = "Book Now"; }
        }
      });
    });
  </script>

</body>
</html>
